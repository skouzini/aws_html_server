<!DOCTYPE html>

<head>

</head>

<body>
    <h1>Has your password been breached?</h1>
    <form>
        <input id="passHash" type="text" name="hash" placeholder="First 10 #'s of hash"/>
        <input id="submit" type="submit" value="Check"/>
    </form>
    <p>Number of times this password has been exposed: <span id="exposedNum"></span></p>



    <script>
    
    document.getElementById("submit").addEventListener("click", function(event) {
        event.preventDefault();
        var hash = document.getElementById("passHash").value;
        console.log(hash);
        var myurl = "https://passwords.xposedornot.com/api/v1/pass/anon/";
        myurl += hash;
        console.log(myurl);
        fetch(myurl)
            .then(function(response) {
                return response.json();
            }).then(function(json) {
                console.log(json);
                document.getElementById("exposedNum").innerHTML = json.SearchPassAnon.count + " times";
            });
    });
    </script>
</body>

</html>
